<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>BirdBlog by majsujan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #f9f9f9;
        }
        header {
            background: #2c3e50;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 2rem;
        }
        header span {
            font-size: 1rem;
            color: #ccc;
        }
        #map {
            height: 90vh;
            width: 100%;
        }
        .legend {
            background: white;
            padding: 10px;
            line-height: 18px;
            color: #555;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            border-radius: 5px;
        }
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <header>
        <h1>BirdBlog <span>by majsujan</span></h1>
    </header>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-geoplatform-layer@1.0.0/dist/leaflet-geoplatform-layer.min.js"></script>
    <script src="https://unpkg.com/leaflet-geoplatform-layer@1.0.0/dist/world-countries.geojson.js"></script>
    <script>
    
function getColor(d) {
    return d > 300 ? '#002d1f' :
           d > 250 ? '#004529' :
           d > 200 ? '#006837' :
           d > 150 ? '#31a354' :
           d > 100 ? '#78c679' :
           d > 50 ? '#c2e699' :
           d > 1 ? '#ffffcc' :
                     '#f7f7f7';
}


    var map = L.map('map').setView([20, 0], 2);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: 'Â© OpenStreetMap'
    }).addTo(map);

    var data = {"Aruba": 72, "Bangladesh": 188, "Belgium": 3, "Cura\u00e7ao": 60, "Czechia": 3, "Denmark": 115, "Estonia": 56, "Finland": 35, "Germany": 18, "Greece": 22, "Italy": 62, "Latvia": 13, "Netherlands": 117, "Norway": 205, "Poland": 4, "Sweden": 61, "Thailand": 127, "United Kingdom": 44};

    function style(feature) {
        var name = feature.properties.name;
        var count = data[name] || 0;
        return {
            fillColor: getColor(count),
            weight: 1,
            opacity: 1,
            color: 'white',
            dashArray: '3',
            fillOpacity: 0.7
        };
    }

    function onEachFeature(feature, layer) {
        var name = feature.properties.name;
        var count = data[name] || 0;
        layer.bindTooltip(name + ": " + count + " species");
    }

    L.geoJson(worldCountries, {
        style: style,
        onEachFeature: onEachFeature
    }).addTo(map);

    var legend = L.control({position: 'bottomright'});
    legend.onAdd = function (map) {
        var div = L.DomUtil.create('div', 'legend'),
            grades = [1, 50, 100, 150, 200, 250, 300],
            labels = [];

        for (var i = 0; i < grades.length; i++) {
            div.innerHTML +=
                '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
                grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
        }

        return div;
    };
    legend.addTo(map);
    </script>
</body>
</html>
